(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(40)},34:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),i=a(4),s=(a(32),a(33),a(34),a(9)),o=a(10),u=a(12),m=a(11),h=a(13),d=a(7),b=a(6),p=function(e){var t=e.children;return r.a.createElement("thead",{className:"thead-light"},t)},f=function(e){var t=e.children,a=e.content,n=e.colspan;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{colSpan:n},a,t))},g=function(e){var t=e.headers,a=e.scope;return r.a.createElement(r.a.Fragment,null,t.map(function(e,t){return r.a.createElement("th",{scope:a,key:t},e)}))},E=function(e){var t=e.children;return r.a.createElement("tbody",null,t)},v=function(e){var t=e.children;return r.a.createElement("tr",null,t)},N=function(e){var t=e.type,a=void 0===t?"button":t,n=e.label,c=e.color,l=e.marginBottom,i=e.icon,s=e.id,o=e.handleClick,u=e.disabled,m=c?" btn-".concat(c):"",h=l?" ".concat(l):"";return r.a.createElement("button",{"data-testid":"button",type:a,className:"btn".concat(m).concat(h),onClick:o&&function(e){return o(e,s)},disabled:u},i&&r.a.createElement("i",{className:"fa fa-".concat(i),"aria-hidden":"true"}),n)},C=function(e){var t=e.handleDelete,a=e.id;return r.a.createElement("div",{className:"btn-group btn-group-sm",role:"group","aria-label":"Actions"},r.a.createElement(i.b,{to:"./edit/".concat(a)},r.a.createElement(N,{color:"secondary",label:"Edit",icon:"pencil"})),r.a.createElement(N,{id:a,color:"danger",label:"Remove",icon:"trash-o",handleClick:t}))},k=function(e){var t=e.headers,a=e.data,n=e.handleDelete;return r.a.createElement("table",{className:"table table-bordered table-hover"},r.a.createElement(p,null,r.a.createElement(v,null,r.a.createElement(g,{scope:"col",headers:t}))),r.a.createElement(E,null,a.length>0?a.map(function(e,t){return r.a.createElement(v,{key:t},r.a.createElement(g,{scope:"row",headers:[e.id]}),r.a.createElement(f,{content:e.name}),r.a.createElement(f,{content:e.species}),r.a.createElement(f,{content:e.gender}),r.a.createElement(f,{content:e.homeworld}),r.a.createElement(f,null,r.a.createElement(C,{id:e.id,handleDelete:n})))}):r.a.createElement(v,null,r.a.createElement(f,{content:"No Results Found",colspan:"100%"}))))},y=function(e){var t=e.text;return r.a.createElement("h1",null,t)},S=function(e){var t=e.children,a=e.className;return r.a.createElement("div",{className:a},t)},j=function(e){var t=e.type,a=void 0===t?"text":t,n=e.id,c=e.value,l=e.placeholder,i=e.handleChange,s=e.name,o=e.noValidate,u=e.invalid,m=e.checked,h=u&&"is-invalid",d="radio"===a?"form-check-input":"form-control";return r.a.createElement("input",{className:"".concat(d," ").concat(h),name:s,type:a,id:n,placeholder:l,onChange:function(e){return i(e)},noValidate:o,value:c,defaultChecked:m})},w=function(e){var t=e.handleChange;return r.a.createElement(S,{className:"form-group"},r.a.createElement("label",{htmlFor:"searchInput",className:"sr-only"},"Search"),r.a.createElement(j,{type:"text",id:"searchInput",placeholder:"Search...",handleChange:t}))},O=function(e){var t=e.children;return r.a.createElement("div",{className:"row"},t)},x=function(e){for(var t=e.handleClick,a=e.currentPageNumber,n=e.totalItems,c=e.pageLimit,l=[],i=1;i<=Math.ceil(n/c);i++)l.push(i);var s=a<=1&&"disabled",o=a===l.length&&"disabled";return r.a.createElement("nav",{"aria-label":"Data grid navigation"},r.a.createElement("ul",{className:"pagination justify-content-end"},r.a.createElement("li",{className:"page-item ".concat(s)},r.a.createElement("button",{type:"button",className:"page-link",onClick:function(){return t(a-1)}},"Previous")),l.map(function(e,n){var c=e===a&&"active";return r.a.createElement("li",{key:n,className:"page-item ".concat(c)},r.a.createElement("button",{type:"button",className:"page-link",onClick:function(){return t(e)}},e," ",r.a.createElement("span",{className:"sr-only"},"(current)")))}),r.a.createElement("li",{className:"page-item ".concat(o)},r.a.createElement("button",{type:"button",className:"page-link",onClick:function(){return t(a+1)}},"Next"))))},D=function(e){var t=e.text;return r.a.createElement(S,null,t)},F=a(19),q="http://localhost:3000/",L=function(e){var t="".concat(q).concat(e);return fetch(t).then(function(e){return e.json()}).catch(function(e){return e})},I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={loading:!0,characters:[],charactersLength:0,tabelHeaders:["Id","Name","Species","Gender","Homeworld","Actions"],currentPageNumber:1,totalItems:1,pageLimit:10},a.handleClick=a.handleClick.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleDelete=a.handleDelete.bind(Object(b.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"totalCount",value:function(){var e=this;L("characters").then(function(t){e.setState(function(e){return e.totalItems=t.length,e})})}},{key:"getSearchQuery",value:function(e){var t=this;setTimeout(function(){(function(e,t){var a=new URLSearchParams;a.append("q",t||"");var n="".concat(q).concat(e,"?").concat(a,"&_limit=10");return fetch(n).then(function(e){return e.json()}).catch(function(e){return e})})("characters",e).then(function(e){t.setState(function(t){return t.characters=e,t})})},200)}},{key:"getCharacters",value:function(e){var t=this;(function(e,t){var a=new URLSearchParams;a.append("_page",t||1);var n="".concat(q).concat(e,"?").concat(a);return fetch(n,{}).then(function(e){return e.json()}).catch(function(e){return e})})("characters",e).then(function(a){t.setState(function(t){return t.characters=a,t.charactersLength=a.length,t.currentPageNumber=e,t.loading=!1,t})}).catch(function(e){return console.error("err",e)})}},{key:"componentDidMount",value:function(){this.getCharacters(1),this.totalCount()}},{key:"handleClick",value:function(e){this.getCharacters(e)}},{key:"handleChange",value:function(e){e.preventDefault();var t=e.target.value;this.getSearchQuery(t)}},{key:"handleDelete",value:function(e,t){var a=this;e.preventDefault(),function(e,t){var a="".concat(q).concat(e,"/").concat(t);return fetch(a,{method:"delete",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json().then(function(t){return{status:e.status,data:t}})})}("characters",t).then(function(e){return 200===e.status&&(a.setState({totalItems:a.state.totalItems-1}),a.getCharacters(a.state.totalItems%a.state.pageLimit===0?a.state.currentPageNumber-1:a.state.currentPageNumber))}).catch(function(e){return console.error("err",e)})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,{content:"Loading..."}):r.a.createElement(n.Fragment,null,r.a.createElement(y,{text:"List View"}),r.a.createElement(O,null,r.a.createElement(S,{className:"col-sm-6"},r.a.createElement(w,{handleChange:this.handleChange})),r.a.createElement(S,{className:"col-sm-6 text-sm-right"},r.a.createElement(i.b,{to:"/add"},r.a.createElement(N,{label:"Add New",color:"primary",marginBottom:"mb-3"})))),r.a.createElement(k,{headers:this.state.tabelHeaders,data:this.state.characters,handleDelete:this.handleDelete}),r.a.createElement(x,{handleClick:this.handleClick,currentPageNumber:this.state.currentPageNumber,totalItems:this.state.totalItems,pageLimit:this.state.pageLimit}))}}]),t}(n.Component),T=a(15),P=function(e){var t=e.children,a=e.handleSubmit;return r.a.createElement("form",{onSubmit:a},t)},V=function(e){var t=e.children;return r.a.createElement("div",{className:"form-row"},t)},R=function(e){var t=e.name,a=e.label,n=e.error,c=e.handleChange,l=e.required,i=e.value,s=n&&n.length>0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:t},a,l&&r.a.createElement("span",{className:"text-primary"},"*")),r.a.createElement(j,{name:t,handleChange:c,placeholder:a,invalid:s,value:i}),s&&r.a.createElement("span",{className:"invalid-feedback"},n))},A=function(e){var t=e.children,a=e.label,n=e.required,c=e.error,l=c&&c.length>0?"is-invalid":"";return r.a.createElement(S,null,r.a.createElement(S,{className:"".concat(l)},a,n&&r.a.createElement("span",{className:"text-primary"},"*")),t,l&&r.a.createElement("span",{className:"invalid-feedback"},c))},B=function(e){var t=e.name,a=e.label,n=e.value,c=e.handleChange,l=e.checked;return r.a.createElement(S,{className:"form-check form-check-inline"},r.a.createElement(j,{type:"radio",name:t,value:n,handleChange:c,checked:l}),r.a.createElement("label",{className:"form-check-label"},a))},H=function(e){var t=e.error,a=e.selected,n=e.value,c=e.values,l=e.handleChange,i=e.label,s=e.name,o=e.required,u=t&&t.length>0?"is-invalid":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:s},i,o&&r.a.createElement("span",{className:"text-primary"},"*")),r.a.createElement("select",{defaultValue:n,name:s,className:"form-control ".concat(u),value:a,onChange:function(e){return l(e)}},r.a.createElement("option",{value:"",disabled:!0},"Select..."),c.map(function(e,t){return r.a.createElement("option",{"data-testid":"option",key:t,value:e},e)})),u&&r.a.createElement("span",{className:"invalid-feedback"},t))},J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={disableSubbmit:!1,loading:!0,id:a.props.id,isEdit:a.props.isEdit,species:[],selectedSpecies:"",gender:"",name:"",homeworld:"",errors:{name:"",selectedSpecies:"",gender:""},touched:{name:!1}},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"getSpecies",value:function(){var e=this;L("species").then(function(t){e.setState(function(e){return e.species=t,e})}).catch(function(e){return console.error("err",e)})}},{key:"getCharacterData",value:function(){var e=this;(function(e,t){var a="".concat(q).concat(e,"/").concat(t);return fetch(a,{}).then(function(e){return e.json()}).catch(function(e){return e})})("characters",this.state.id).then(function(t){e.setState(function(e){return e.name=t.name,e.selectedSpecies=t.species,e.gender=t.gender,e.homeworld=t.homeworld,e.loading=!1,e})}).catch(function(e){return console.error("err",e)})}},{key:"handleChangeValidation",value:function(e,t){var a=this.state.errors;switch(e){case"name":a.name=0===t.length?"This Field is Required ":"";break;case"gender":a.gender=0===t.length?"This Field is Required ":"";break;case"selectedSpecies":a.selectedSpecies=0===t.length?"This Field is Required ":""}}},{key:"handleSubmitValidation",value:function(){var e=this.state,t={},a=!0;return e.name||(a=!1,t.name=" This field is required"),e.selectedSpecies||(a=!1,t.selectedSpecies=" This field is required"),e.gender||(a=!1,t.gender=" This field is required"),this.setState({errors:t}),a}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({disableSubbmit:!0}),this.handleSubmitValidation()?this.state.isEdit?function(e,t,a){var n="".concat(q).concat(e,"/").concat(a);return fetch(n,{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(F.a)({},t))}).then(function(e){return e.json().then(function(t){return{status:e.status,data:t}})})}("characters",{name:this.state.name,species:this.state.selectedSpecies,gender:this.state.gender,homeworld:this.state.homeworld},this.state.id).then(function(){t.props.history.push("/")}):function(e,t){var a="".concat(q).concat(e);return fetch(a,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(F.a)({},t))}).then(function(e){return e.json().then(function(t){return{status:e.status,data:t}})})}("characters",{name:this.state.name,species:this.state.selectedSpecies,gender:this.state.gender,homeworld:this.state.homeworld}).then(function(){t.props.history.push("/")}):this.setState({disableSubbmit:!0})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.handleChangeValidation(a,n),Object.values(this.state.errors).every(function(e){return""===e})?this.setState({disableSubbmit:!1}):this.setState({disableSubbmit:!0}),this.setState(Object(T.a)({},a,n))}},{key:"componentDidMount",value:function(){this.getSpecies(),this.state.isEdit?this.getCharacterData():this.setState({loading:!1})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(D,{content:"Loading..."}):r.a.createElement(n.Fragment,null,r.a.createElement(y,{text:this.state.isEdit?"Edit Character":"Add New Character"}),r.a.createElement(P,{handleSubmit:this.handleSubmit},r.a.createElement(V,null,r.a.createElement(S,{className:"col-md-4 mb-3"},r.a.createElement(R,{label:"Name",name:"name",value:this.state.name,handleChange:this.handleChange,error:this.state.errors.name,required:!0}))),r.a.createElement(V,null,r.a.createElement(S,{className:"col-md-4 mb-3"},r.a.createElement(H,{label:"Species",name:"selectedSpecies",values:this.state.species,value:this.state.selectedSpecies,handleChange:this.handleChange,error:this.state.errors.selectedSpecies,required:!0}))),r.a.createElement(V,null,r.a.createElement(S,{className:"col-md-4 mb-3"},r.a.createElement(A,{label:"Gender",required:!0,error:this.state.errors.gender},r.a.createElement(B,{name:"gender",value:"male",label:"Male",handleChange:this.handleChange,checked:"male"===this.state.gender}),r.a.createElement(B,{name:"gender",value:"female",label:"Female",handleChange:this.handleChange,checked:"female"===this.state.gender}),r.a.createElement(B,{name:"gender",value:"n/a",label:"n/a",handleChange:this.handleChange,checked:"n/a"===this.state.gender})))),r.a.createElement(V,null,r.a.createElement(S,{className:"col-md-4 mb-3"},r.a.createElement(R,{label:"Homeworld",name:"homeworld",handleChange:this.handleChange,value:this.state.homeworld}))),r.a.createElement(V,null,r.a.createElement(S,{className:"col-md-4 mb-3"},r.a.createElement(N,{color:"primary",type:"submit",label:"Submit",disabled:this.state.disableSubbmit})))))}}]),t}(n.Component),M=a(26),G=a(20),Q=a.n(G),U=function(){var e=Object(n.useState)(!1),t=Object(M.a)(e,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:function(){return c(!a)},className:Q()("navbar-toggler",{collapsed:!a}),"aria-expanded":a,"aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:Q()("collapse","navbar-collapse",{show:a})},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(i.b,{to:"/",className:"nav-link"},"List View",r.a.createElement("span",{className:"sr-only"},"(current)"))))))},W=function(e){var t=e.path,a=e.label;return r.a.createElement(i.b,{to:t,className:"navbar-brand"},a)},_=function(e){var t=e.label;return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-primary mb-3"},r.a.createElement(W,{path:"/",label:t}),r.a.createElement(U,null))},$=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(S,{className:"App"},r.a.createElement(_,{label:"ReactTestApp"}),r.a.createElement(S,{className:"container"},r.a.createElement(d.a,{exact:!0,path:"/",component:I}),r.a.createElement(d.a,{exact:!0,path:"/add",render:function(e){return r.a.createElement(J,Object.assign({},e,{isEdit:!1}))}}),r.a.createElement(d.a,{exact:!0,path:"/edit/:id",render:function(e){return r.a.createElement(J,Object.assign({},e,{id:e.match.params.id,isEdit:!0}))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(i.a,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.7eaada18.chunk.js.map